# 운영 및 정책 정의서 (Operation Policies)

성공적인 "병원 전용 앱" 구축을 위해 확정해야 할 8가지 핵심 정책입니다.
개발 착수 전, 병원 측 의사결정권자의 승인(Sign-off)이 필요합니다.

## 1. 예약 오픈 및 마감 정책 (Lead Time)
*   **정책**: 예약은 언제 열리고 언제 닫히는가?
*   **(권장)안**:
    *   **오픈**: 오늘 날짜로부터 **D+30일**까지 오픈
    *   **마감**: 해당 슬롯 시간 **10분 전**까지 예약 가능 (또는 전일 마감)
    *   *결정사항*: [ ] 30일 오픈 / 당일 10분전 마감

## 2. 취소 및 노쇼(No-Show) 정책
*   **정책**: 언제까지 취소 가능한가? 노쇼 시 패널티는?
*   **(권장)안**:
    *   **취소**: 예약 시간 **1시간 전**까지 앱에서 취소 가능 (이후 전화 문의)
    *   **노쇼**: 연(Year) 3회 노쇼 누적 시 **1개월 앱 예약 제한**
    *   *결정사항*: [ ] 1시간 전 취소 / 노쇼 3회시 제한

## 3. 정원 및 동반 예약 정책
*   **정책**: 한 명이 여러 명을 예약할 수 있는가?
*   **(권장)안**:
    *   **1인 1슬롯 원칙**: 본인 혹은 가족(등록된) 1명만 예약 가능.
    *   다수 필요 시 별도 슬롯 예약 필요.
    *   *결정사항*: [ ] 본인 및 가족대리 예약 허용 (단, 슬롯당 1명분 차감)

## 4. 슬롯 운영 및 점심시간
*   **정책**: 휴게시간은 어떻게 자동화할 것인가?
*   **(권장)안**:
    *   평일: 09:00 ~ 18:00
    *   **점심시간(BLOCKED)**: 12:30 ~ 13:30 (1시간, 해당 구간 슬롯 미생성)
    *   토요일: 09:00 ~ 13:00 (점심시간 없음)
    *   *결정사항*: [ ] 위 표준 시간 따름

## 5. 수술 확정 및 변경 권한
*   **정책**: 수술 일정을 앱에서 변경 가능한가?
*   **(권장)안**:
    *   **수술 확정**: 병원 관리자(상담실장)만 가능 (Admin Web)
    *   **일정 변경**: 환자 앱 불가 → **전화 연결 버튼 노출** (수술은 리소스 준비가 커서 앱 자동변경 불가)
    *   *결정사항*: [ ] 수술 일정 앱 변경 불가

## 6. 알림(Push) 발송 빈도 및 수단
*   **정책**: 너무 잦은 알림은 스팸 취급된다.
*   **(권장)안**:
    *   예약 완료/취소: 즉시 발송
    *   예약 리마인드: **D-1 20:00**, **당일 08:00** (총 2회)
    *   복약 알림: 설정된 시간 정각
    *   *결정사항*: [ ] 주요 리마인드만 발송 (광고성 제외)

## 7. 계정 및 본인확인 정책
*   **정책**: 환자를 어떻게 식별하는가?
*   **(권장)안**:
    *   **최초 1회 휴대폰 본인인증** (PASS/문자) 필수
    *   이후 간편비밀번호(PIN) 또는 생체인증(FaceID)
    *   *결정사항*: [ ] 최초 1회 본인인증 적용

## 8. 데이터 보관 및 삭제 (개인정보)
*   **정책**: 탈퇴 시 데이터는?
*   **(권장)안**:
    *   탈퇴 시 개인 식별정보 즉시 파기.
    *   단, **의료법 관련 기록(진료/수술기록)은 서버에 익명화/별도 보관** (법적 의무기간 준수)
    *   *결정사항*: [ ] 의료법 준수 및 탈퇴 시 파기

## 9. 데이터 등급 및 분류 (Data Classification)
*   **정책**: 데이터의 중요도에 따라 등급을 나누고 접근 권한을 관리하는가?
*   **(권장)안**:
    *   **1등급 (Public)**: 병원 기본 정보, 진료 과목 등 (누구나 조회 가능)
    *   **2등급 (Internal)**: 의료진 스케줄, 수술실 가동 현황 (직원 열람 가능)
    *   **3등급 (Confidential)**: 환자 기본 정보(전화번호 등), 예약 정보 (담당 의료진 및 관련 부서만 열람)
    *   **4등급 (Sensitive/PHI)**: **진료기록, 수술상세, 처방내역** (해당 환자의 주치의 및 허가된 의료진만 열람 + **조회 이력 로깅 필수**)
    *   *결정사항*: [ ] 4단계 데이터 보안 등급 적용 및 로그 기록

## 10. 병원 간 데이터 격리 (Multi-Tenancy Isolation)
*   **정책**: 여러 병원의 데이터를 어떻게 분리하여 관리할 것인가?
*   **(권장)안**:
    *   **논리적 분리 (Logical Separation)**: 하나의 데이터베이스 사용, 모든 데이터에 `hospitalId`를 구분자로 사용. (구축 기민성 높음, 비용 절감)
    *   **물리적 분리 (Physical Separation)**: 병원마다 별도의 데이터베이스(또는 스키마) 사용. (데이터 유출 원천 차단, 인프라 비용 높음)
    *   *결정사항*: [ ] 논리적 분리(Logical) 채택 (단, 코드 레벨에서 `hospitalId` 누락 시 쿼리 차단 강제)

## 11. 표준 데이터 및 병원별 커스텀 (Master vs Custom)
*   **정책**: 현재 구축된 데이터를 '기본(Base)'으로 삼고, 병원별로 달라지는 것을 어떻게 처리할 것인가?
*   **(권장)안**:
    *   **Base (Global)**: 플랫폼 차원에서 제공하는 표준 데이터 (예: 표준 수술명, 기본 약관, 표준 슬롯 시간). 수정 불가능하거나 플랫폼 관리자만 수정 가능.
    *   **Custom (Tenant)**: 병원이 Base를 **복제(Clone)**하여 자신들에게 맞게 수정한 데이터.
    *   **구분 표기**: 데이터 조회 시 이것이 **"시스템 표준"**인지 **"병원 전용(Custom)"**인지 명확히 라벨링(`isSystemDefault` 등)하여 혼선을 방지.
    *   *결정사항*: [ ] '표준 데이터(Base)' 유지 + 병원별 필요 시 '복제 후 커스텀' 방식 적용

---
*위 항목에 대해 ✓ 체크 후 개발팀에 전달해주시면, 해당 로직을 코드에 하드코딩 하거나 설정값으로 반영하겠습니다.*
